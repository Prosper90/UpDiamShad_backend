5  Create a user
post
https://api.staging.insightiq.ai/v1/users
Create a User.

Request
Basic authentication is a simple authentication scheme built into the HTTP protocol. To use it, send your HTTP requests with an Authorization header that contains the word Basic followed by a space and a base64-encoded string username:password.

Example: Authorization: Basic ZGVtbzpwQDU1dzByZA==

Body

application/json

application/json
Payload of the User going to create.

name
string
required
Name of the user.

Example:
John Doe
external_id
string
required
Unique ID for the user supplied by you. Avoid passing PII such as the user's email or phone number as the external ID.

<= 100 characters
Example:
179a0bb4-c572-4477-9457-7dacf1b84848
Responses
201
Returns created user object.

Headers
request-id
string<uuid>
required
Unique ID associated with this request. Please quote this request while requesting support.

Body

application/json

application/json
responses
/
201
User objects represent distinct users that have connected their work platform via Connect.

name
string
required
Name of the user.

Example:
John Doe
external_id
string
required
External ID of the user as supplied by you.

Example:
179a0bb4-c572-4477-9457-7dacf1b84848
id
string<uuid>
required
Unique ID of the user.

Example:
0994b847-cc69-4d98-bc99-c5e65e762add
created_at
string<date-time>
required
User creation timestamp (UTC date and time in ISO 8601 format)

Example:
2020-03-27T12:34:56.534978
updated_at
string<date-time>
required
User updation timestamp (UTC date and time in ISO 8601 format)

Example:
2020-03-27T12:56:34.534978
status
string
required
User status on .

Allowed values:
ACTIVE
INACTIVE
Example:
ACTIVE

# Sample Test/Show # 


Username
:
username
Password
:
password
{
  "name": "John Doe",
  "external_id": "179a0bb4-c572-4477-9457-7dacf1b84848"
}
{
  "name": "John Doe",
  "external_id": "179a0bb4-c572-4477-9457-7dacf1b84848"
}
Send API Request

Staging


import axios from 'axios';

const options = {
  method: 'POST',
  url: 'https://api.staging.insightiq.ai/v1/users',
  headers: {
    'Content-Type': 'application/json',
    Accept: 'application/json',
    Authorization: 'Basic 123'
  },
  data: {name: 'John Doe', external_id: '179a0bb4-c572-4477-9457-7dacf1b84848'}
};

try {
  const { data } = await axios.request(options);
  console.log(data);
} catch (error) {
  console.error(error);
}

{
  "name": "John Doe",
  "external_id": "179a0bb4-c572-4477-9457-7dacf1b84848",
  "id": "0099ba73-0571-4741-8fc3-ec0d32f47b51",
  "created_at": "2022-03-29T17:29:37.974235",
  "updated_at": "2022-03-29T17:29:37.974235",
  "status": "ACTIVE"
}



6  Retrieve a user by external ID
get
https://api.staging.insightiq.ai/v1/users/external_id/{external_id}
Retrieve the information of the User with the supplied External id.

Request
Basic authentication is a simple authentication scheme built into the HTTP protocol. To use it, send your HTTP requests with an Authorization header that contains the word Basic followed by a space and a base64-encoded string username:password.

Example: Authorization: Basic ZGVtbzpwQDU1dzByZA==

Path Parameters
external_id
string
required
Unique ID for the user supplied by you

Responses
200
Returns the User object.

Headers
request-id
string<uuid>
required
Unique ID associated with this request. Please quote this request while requesting support.

Body

application/json

application/json
responses
/
200
User objects represent distinct users that have connected their work platform via Connect.

name
string
required
Name of the user.

Example:
John Doe
external_id
string
required
External ID of the user as supplied by you.

Example:
179a0bb4-c572-4477-9457-7dacf1b84848
id
string<uuid>
required
Unique ID of the user.

Example:
0994b847-cc69-4d98-bc99-c5e65e762add
created_at
string<date-time>
required
User creation timestamp (UTC date and time in ISO 8601 format)

Example:
2020-03-27T12:34:56.534978
updated_at
string<date-time>
required
User updation timestamp (UTC date and time in ISO 8601 format)

Example:
2020-03-27T12:56:34.534978
status
string
required
User status on .

Allowed values:
ACTIVE
INACTIVE
Example:
ACTIVE


# Sample Test/Show # 


Username
:
username
Password
:
password
external_id*
:
string
Send API Request

Staging


import axios from 'axios';

const options = {
  method: 'GET',
  url: 'https://api.staging.insightiq.ai/v1/users/external_id/{external_id}',
  headers: {Accept: 'application/json', Authorization: 'Basic 123'}
};

try {
  const { data } = await axios.request(options);
  console.log(data);
} catch (error) {
  console.error(error);
}


{
  "name": "Mark Ruffalo",
  "external_id": "154813a5-d26e-42f2-8b1d-ebbed59b062d",
  "id": "b0562ead-6282-404f-9e63-9da7bc0f838f",
  "created_at": "2021-12-13T07:54:41.078254",
  "updated_at": "2021-12-13T07:54:41.078254",
  "status": "ACTIVE"
}



7  
Create an SDK token
post
https://api.staging.insightiq.ai/v1/sdk-tokens
Creates the Connect SDK Token. This is required while initializing the Connect SDK.

Request
Basic authentication is a simple authentication scheme built into the HTTP protocol. To use it, send your HTTP requests with an Authorization header that contains the word Basic followed by a space and a base64-encoded string username:password.

Example: Authorization: Basic ZGVtbzpwQDU1dzByZA==

Body

application/json

application/json
Payload of the SDK Token going to create.

user_id
string
required
Unique ID of the user.

Example:
cfcc6603-1d8f-47d9-926a-4b91cc143105
products
array[string]
required
Requested products.

Allowed values:
IDENTITY
IDENTITY.AUDIENCE
ENGAGEMENT
ENGAGEMENT.AUDIENCE
INCOME
PUBLISH.CONTENT
ACTIVITY
Responses
201
Returns the SDK Token Response object.

Headers
request-id
string<uuid>
required
Unique ID associated with this request. Please quote this request while requesting support.

Body

application/json

application/json
responses
/
201
This object represent the SDK Token response body.

sdk_token
string
required
Token which is used to initialise the connect SDK.

Example:
eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiOTU0NmI0ZmUtY2VmNy00OGM0LWFiOWYtOTYwZGQwMDgwNzI4IiwidGVuYW50X2lkIjoiMjg1Yjc1Y2EtMjE5MS00ZWEyLWJkMzQtNDdjZGI4NDEzNmVkIiwidGVuYW50X2FwcF9pZCI6IjljOGY0ZTUyLWE4MmQtNGQ0Ny05MmQzLTdmNGQ4MGM4NWZkNiIsInByb2R1Y3RzIjpbIklOQ09NRSIsIkVOR0FHRU1FTlQiLCJFTkdBR0VNRU5UX0FVRElFTkNFIiwiSURFTlRJVFkiXSwiaXNzIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5nZXRwaHlsbG8uY29tIiwiYXVkIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5nZXRwaHlsbG8uY29tL3YxL2ludGVybmFsIiwiaWF0IjoxNjQ4NTc1NDQ3LjUyNTAxMywiZXhwIjoxNjQ5MTgwMjQ3LjUyNTAwMn0.0fvAvCTpD1mKukAPq5r2nktLaQuxYWK7vVz2-xNkawc
expires_at
string<date-time>
required
Token expiry time (UTC date and time in ISO 8601 format)

Example:
2020-03-27T12:56:34.534978


# Sample Test/Show # 



Username
:
username
Password
:
password
{
  "user_id": "9546b4fe-cef7-48c4-ab9f-960dd0080728",
  "products": [
    "IDENTITY",
    "IDENTITY.AUDIENCE",
    "ENGAGEMENT",
    "ENGAGEMENT.AUDIENCE",
    "INCOME",
    "PUBLISH.CONTENT",
    "ACTIVITY"
  ]
}
{
  "user_id": "9546b4fe-cef7-48c4-ab9f-960dd0080728",
  "products": [
    "IDENTITY",
    "IDENTITY.AUDIENCE",
    "ENGAGEMENT",
    "ENGAGEMENT.AUDIENCE",
    "INCOME",
    "PUBLISH.CONTENT",
    "ACTIVITY"
  ]
}
Send API Request

Staging



import axios from 'axios';

const options = {
  method: 'POST',
  url: 'https://api.staging.insightiq.ai/v1/sdk-tokens',
  headers: {
    'Content-Type': 'application/json',
    Accept: 'application/json',
    Authorization: 'Basic 123'
  },
  data: {
    user_id: '9546b4fe-cef7-48c4-ab9f-960dd0080728',
    products: [
      'IDENTITY',
      'IDENTITY.AUDIENCE',
      'ENGAGEMENT',
      'ENGAGEMENT.AUDIENCE',
      'INCOME',
      'PUBLISH.CONTENT',
      'ACTIVITY'
    ]
  }
};

try {
  const { data } = await axios.request(options);
  console.log(data);
} catch (error) {
  console.error(error);
}


{
  "sdk_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjoiOTU0NmI0ZmUtY2VmNy00OGM0LWFiOWYtOTYwZGQwMDgwNzI4IiwidGVuYW50X2lkIjoiMjg1Yjc1Y2EtMjE5MS00ZWEyLWJkMzQtNDdjZGI4NDEzNmVkIiwidGVuYW50X2FwcF9pZCI6IjljOGY0ZTUyLWE4MmQtNGQ0Ny05MmQzLTdmNGQ4MGM4NWZkNiIsInByb2R1Y3RzIjpbIklOQ09NRSIsIkVOR0FHRU1FTlQiLCJFTkdBR0VNRU5UX0FVRElFTkNFIiwiSURFTlRJVFkiXSwiaXNzIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5nZXRwaHlsbG8uY29tIiwiYXVkIjoiaHR0cHM6Ly9hcGkuc2FuZGJveC5nZXRwaHlsbG8uY29tL3YxL2ludGVybmFsIiwiaWF0IjoxNjQ4NTc1NDQ3LjUyNTAxMywiZXhwIjoxNjQ5MTgwMjQ3LjUyNTAwMn0.0fvAvCTpD1mKukAPq5r2nktLaQuxYWK7vVz2-xNkawc",
  "expires_at": "2022-04-05T17:37:27.525002"
}

