

3  
Refresh a profile
post
https://api.staging.insightiq.ai/v1/profiles/refresh
Refresh profile for a connected account. Once InsightIQ processes the request, you can fetch the updated profile by calling the retrieve a profile API.

Subscribe to the "PROFILES.UPDATED" webhook to receive a notification once the request is completed.

Request
Basic authentication is a simple authentication scheme built into the HTTP protocol. To use it, send your HTTP requests with an Authorization header that contains the word Basic followed by a space and a base64-encoded string username:password.

Example: Authorization: Basic ZGVtbzpwQDU1dzByZA==

Body
application/jsonapplication/xml

application/json
account_id
string<uuid>
required
Unique ID of the account.

Responses
202
Accepted

Headers
request-id
string<uuid>
required
Unique ID associated with this request. Please quote this request while requesting support.

Body

application/json

application/json
responses
/
202
account_id
string<uuid>
required
Unique ID of the account.


# Sample Test/Show # 



Username
:
username
Password
:
password
{
  "account_id": "449e7a5c-69d3-4b8a-aaaf-5c9b713ebc65"
}
{
  "account_id": "449e7a5c-69d3-4b8a-aaaf-5c9b713ebc65"
}
Send API Request

Staging



import axios from 'axios';

const options = {
  method: 'POST',
  url: 'https://api.staging.insightiq.ai/v1/profiles/refresh',
  headers: {
    'Content-Type': 'application/json',
    Accept: 'application/json',
    Authorization: 'Basic 123'
  },
  data: {account_id: '449e7a5c-69d3-4b8a-aaaf-5c9b713ebc65'}
};

try {
  const { data } = await axios.request(options);
  console.log(data);
} catch (error) {
  console.error(error);
}



{
  "account_id": "449e7a5c-69d3-4b8a-aaaf-5c9b713ebc65"
}



4   
Retrieve audience demographics
get
https://api.staging.insightiq.ai/v1/audience
Retrieves audience demographics for the given account. Demographics object contains information related to the audience of the user: countries, cities, age & gender distribution, etc. The values in this data are in percentages and are tied to a particular work platform account. This data is lifetime data.

Usually used in conjunction with the "PROFILES_AUDIENCE.*" webhooks, read more.

Request
Basic authentication is a simple authentication scheme built into the HTTP protocol. To use it, send your HTTP requests with an Authorization header that contains the word Basic followed by a space and a base64-encoded string username:password.

Example: Authorization: Basic ZGVtbzpwQDU1dzByZA==

Query Parameters
account_id
string<uuid>
required
Unique ID of the connected account.

Responses
200
Returns all Profiles objects.

Headers
request-id
string<uuid>
required
Unique ID associated with this request. Please quote this request while requesting support.

Body

application/json

application/json
responses
/
200
id
string<uuid>
required
Unique ID of the comment.

created_at
string<date-time>
required
Object creation time (UTC date and time in ISO 8601 format)

Example:
2022-03-27T12:56:34.534978
updated_at
string<date-time>
required
Object updation time (UTC date and time in ISO 8601 format)

Example:
2022-03-27T12:56:34.534978
user
UserAttribute
required
id
string<uuid>
required
Unique ID of the user.

Example:
fb83e3ca-eae7-4eaa-bf51-601ea4b3daeb
name
string
required
Name of the user.

Example:
John Doe
account
AccountAttribute
required
id
string<uuid>
required
Unique ID of the account linked to this object.

Example:
fb83e3ca-eae7-4eaa-bf51-601ea4b3daeb
platform_username
string
required
Username of the account linked to this object.

Example:
john.doe@gmail.com
work_platform
WorkPlatformAttribute
required
id
string<uuid>
required
Unique ID of the work platform.

Example:
9bb8913b-ddd9-430b-a66a-d74d846e6c66
name
string
required
Name of the work platform.

Example:
Instagram, Twitter
logo_url
string<uri>
required
Image URL of the work platform logo.

Example:
https://insightiq.ai/storage/instagram.png
countries
array[object]
required
code
string
required
2 letter country code as per ISO 3166-1 alpha-2

Example:
US
value
number
required
Percentage value of demographics from the corresponding country

Example:
78.9
cities
array[object]
required
name
string
required
Name of the city

Example:
Boulder
value
number
required
Percentage value of demographics from the corresponding city

Example:
45.6
gender_age_distribution
array[object]
required
gender
string
required
Gender of the audience

Allowed values:
MALE
FEMALE
OTHERS
Example:
FEMALE
age_range
string
required
Age range of the audience

Example:
13-18
value
number
required
Percentage value of demographics from the corresponding gender in the corresponding age range

Example:
12.3


# Sample Test/Show # 



import axios from 'axios';

const options = {
  method: 'GET',
  url: 'https://api.staging.insightiq.ai/v1/audience',
  headers: {Accept: 'application/json', Authorization: 'Basic 123'}
};

try {
  const { data } = await axios.request(options);
  console.log(data);
} catch (error) {
  console.error(error);
}




{
  "id": "497f6eca-6276-4993-bfeb-53cbbbba6f08",
  "created_at": "2022-03-27T12:56:34.534978",
  "updated_at": "2022-03-27T12:56:34.534978",
  "user": {
    "id": "fb83e3ca-eae7-4eaa-bf51-601ea4b3daeb",
    "name": "John Doe"
  },
  "account": {
    "id": "fb83e3ca-eae7-4eaa-bf51-601ea4b3daeb",
    "platform_username": "john.doe@gmail.com"
  },
  "work_platform": {
    "id": "fb83e3ca-eae7-4eaa-bf51-601ea4b3daeb",
    "name": "Instagram",
    "logo_url": "https://insightiq.ai/storage/instagram.png"
  },
  "countries": [
    {
      "code": "US",
      "value": 78.9
    }
  ],
  "cities": [
    {
      "name": "Boulder",
      "value": 45.6
    }
  ],
  "gender_age_distribution": [
    {
      "gender": "FEMALE",
      "age_range": "13-18",
      "value": 12.3
    }
  ]
}
